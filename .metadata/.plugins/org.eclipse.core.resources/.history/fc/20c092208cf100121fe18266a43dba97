package PhotoListener;

import java.io.File;
import java.io.IOException;
import java.util.Date;

import Common.Photo;

import com.drew.imaging.ImageMetadataReader;
import com.drew.imaging.ImageProcessingException;
import com.drew.metadata.Metadata;
import com.drew.metadata.exif.ExifSubIFDDirectory;

public class PhotoListenerThread {

	public PhotoListenerThread() {
		}
	
	public Photo createPhotoFromFile(String path) {
		File jpegFile = new File("c:\\users\\yonatan\\pictures\\try.jpg");
		Photo photo = new Photo;
		try {
			Metadata metadata = ImageMetadataReader.readMetadata(jpegFile);
			ExifSubIFDDirectory directory = metadata.getDirectory(ExifSubIFDDirectory.class);

			Date date = directory.getDate(ExifSubIFDDirectory.TAG_DATETIME_ORIGINAL);
			
		} catch (ImageProcessingException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		} catch (IOException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
		
		
		System.out.println(date.toString());

		return photo;
	}
}

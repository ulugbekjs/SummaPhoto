package com.workshopandriod;

import java.io.File;

import ActivationManager.ActivationManagerThread;
import Common.Photo;
import PhotoListener.PhotoListenerThread;
import android.app.Service;
import android.content.Intent;
import android.os.IBinder;

public class MainService  extends Service{

	@Override
	public IBinder onBind(Intent intent) {
		
		PhotoListenerThread t = new PhotoListenerThread();
		File directory = new File("C:\\Users\\yonatan\\WorkshopRepository\\photos");
		for (File file : directory.listFiles()) {
			Photo p = t.createPhotoFromFile(file);
			if (p != null) {
				ActivationManagerThread.getInstance().addToBuffer(p);
			}
		}

		ActivationManagerThread.getInstance().processPhotoBuffer();
	}

}
